import{y as v,B as I,C as P,q as b,D as C,L as D,E as N,F as M}from"./runtime.Dr1nGyLz.js";import{c as L,d as z}from"./disclose-version.9yZkVq5e.js";import{i as F,n as G,a as K}from"./utils.D9pBWCDQ.js";function R(s,r){if(r){const i=document.body;s.autofocus=!0,b(()=>{document.activeElement===i&&s.focus()})}}function J(s){v&&I(s)!==null&&P(s)}let E=!1;function S(){E||(E=!0,document.addEventListener("reset",s=>{Promise.resolve().then(()=>{var r;if(!s.defaultPrevented)for(const i of s.target.elements)(r=i.__on_r)==null||r.call(i)})},{capture:!0}))}function Q(s){if(v){var r=!1,i=()=>{if(!r){if(r=!0,s.hasAttribute("value")){var _=s.value;d(s,"value",null),s.value=_}if(s.hasAttribute("checked")){var f=s.checked;d(s,"checked",null),s.checked=f}}};s.__on_r=i,C(i),S()}}function d(s,r,i,_){var f=s.__attributes??(s.__attributes={});v&&(f[r]=s.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&s.nodeName==="LINK")||f[r]!==(f[r]=i)&&(r==="style"&&"__styles"in s&&(s.__styles={}),r==="loading"&&(s[D]=i),i==null?s.removeAttribute(r):typeof i!="string"&&w(s).includes(r)?s[r]=i:s.setAttribute(r,i))}function U(s,r,i,_,f=!1,n=!1,Y=!1){var a=r||{},O=s.tagName==="OPTION";for(var h in r)h in i||(i[h]=null);var T=w(s),q=s.__attributes??(s.__attributes={}),y=[];for(const t in i){let o=i[t];if(O&&t==="value"&&o==null){s.value=s.__value="",a[t]=o;continue}var g=a[t];if(o!==g){a[t]=o;var p=t[0]+t[1];if(p!=="$$"){if(p==="on"){const c={},l="$$"+t;let e=t.slice(2);var k=K(e);if(F(e)&&(e=e.slice(0,-7),c.capture=!0),!k&&g){if(o!=null)continue;s.removeEventListener(e,a[l],c),a[l]=null}if(o!=null)if(k)s[`__${e}`]=o,z([e]);else{let A=function(B){a[t].call(this,B)};r?a[l]=L(e,s,A,c):y.push([t,o,()=>a[l]=L(e,s,A,c)])}}else if(t==="style"&&o!=null)s.style.cssText=o+"";else if(t==="autofocus")R(s,!!o);else if(t==="__value"||t==="value"&&o!=null)s.value=s[t]=s.__value=o;else{var u=t;f||(u=G(u)),o==null&&!n?(q[t]=null,s.removeAttribute(t)):T.includes(u)&&(n||typeof o!="string")?s[u]=o:typeof o!="function"&&(v&&(u==="src"||u==="href"||u==="srcset")||d(s,u,o))}t==="style"&&"__styles"in s&&(s.__styles={})}}}return r||b(()=>{if(s.isConnected)for(const[t,o,c]of y)a[t]===o&&c()}),a}var $=new Map;function w(s){var r=$.get(s.nodeName);if(r)return r;$.set(s.nodeName,r=[]);for(var i,_=N(s),f=Element.prototype;f!==_;){i=M(_);for(var n in i)i[n].set&&r.push(n);_=N(_)}return r}export{J as a,S as b,U as c,Q as r,d as s};
